# EDINET 書類一覧API仕様書

## 概要

EDINET（金融庁電子開示システム）の書類一覧APIは、提出書類の情報を取得するためのREST形式APIです。指定した日付の提出書類一覧やメタデータを取得することができます。

## API基本情報

### HTTPメソッド

- **GET**

### エンドポイント

```
https://api.edinet-fsa.go.jp/api/v2/documents.json
```

### APIバージョン

- **v2** を使用（当仕様書はバージョン2を対象としています）

## 認証

### APIキー認証

- EDINET APIの認証にはSubscription-Keyが必要です
- 「2-3-2-1 APIキーの発行」で画面に表示されたAPIキーを使用してください

## リクエストパラメータ

| パラメータ名       | 項目名       | 必須 | 設定値                 | 説明                                                        |
| ------------------ | ------------ | ---- | ---------------------- | ----------------------------------------------------------- |
| `date`             | ファイル日付 | ○    | 日付（YYYY-MM-DD形式） | 出力対象とする提出書類一覧のファイル日付（\*1）を指定します |
| `type`             | 取得情報     | -    | 1                      | メタデータのみを取得します（指定が無い場合のデフォルト値）  |
|                    |              |      | 2                      | 提出書類一覧及びメタデータを取得します                      |
| `Subscription-Key` | APIキー      | ○    | APIキー文字列          | EDINET APIの認証に利用します                                |

### 凡例

- ○：必須
- -：任意

### 注意事項

#### ファイル日付について（\*1）

- ファイル日付は当日以前で、直近の財務局営業日の24時において10年を経過していない日付を指定することができます（土日祝日も指定可能）
- 指定のファイル日付の提出書類一覧には、当該日付に提出処理が行われた提出書類並びに当該日付に登録された書類情報修正及び開示不開示区分の変更が含まれます
- 磁気ディスク提出又は紙面提出で提出日が書類提出操作日より過去になる場合、当該書類提出の情報は、書類提出操作日をファイル日付とする提出書類一覧に記載されます
- 提出日をファイル日付とする提出書類一覧には記載されないので注意してください

## パラメータの指定方法

リクエストパラメータは以下の方法で指定します：

1. 「パラメータ名」と「設定値」を `=` で結合します
2. 複数のパラメータを指定する場合は、①で作成したパラメータ同士を `&` で結合します
3. 「エンドポイント」と「②で作成したパラメータ文字列」を `?` で結合します

## リクエスト例

### 例1: メタデータのみ取得（type=1、パラメータ省略）

```
https://api.edinet-fsa.go.jp/api/v2/documents.json?date=2023-04-01&Subscription-Key=ZZZ…ZZZ
```

### 例2: 提出書類一覧及びメタデータ取得（type=2）

```
https://api.edinet-fsa.go.jp/api/v2/documents.json?date=2023-04-01&type=2&Subscription-Key=ZZZ…ZZZ
```

## レスポンス

### レスポンスヘッダ

| ヘッダ名     | 値                              |
| ------------ | ------------------------------- |
| Content-Type | application/json; charset=utf-8 |

### レスポンス構造

取得情報に1（メタデータのみ）を指定した書類一覧APIから返却されるレスポンスについて説明します。

#### 出力データ内容

| No. | 項目名           | 項目ID          | 型     | 文字列制限 | 説明                                                                                                                                    |
| --- | ---------------- | --------------- | ------ | ---------- | --------------------------------------------------------------------------------------------------------------------------------------- |
| 1   | メタデータ       | metadata        | object | -          | メタデータの情報です                                                                                                                    |
| 2   | タイトル         | title           | string | 必須       | APIの名称が記載されます<br/>（例：10）                                                                                                  |
| 3   | パラメータ       | parameter       | object | -          | リクエストパラメータの説明です                                                                                                          |
| 4   | ファイル日付     | date            | string | 必須       | 指定したファイル日付が記載されます<br/>（YYYY-MM-DD形式）                                                                               |
| 5   | 取得情報         | type            | string | 必須       | 指定した取得情報が記載されます<br/>1                                                                                                    |
| 6   | 結果セット       | resultset       | object | -          | 結果セットの説明です                                                                                                                    |
| 7   | 件数             | count           | number | 必須       | 指定したファイル日付における提出書類一覧の件数が記載されます                                                                            |
| 8   | 書類一覧受信日時 | processDateTime | string | 必須       | 提出書類一覧の受信日時が記載されます。提出書類一覧の内容に変更がない場合でも書類一覧受信日時は変更されます<br/>（YYYY-MM-DD HH:mm形式） |
| 9   | ステータス       | status          | string | 必須       | ステータスコードに記載のステータスが記載されます<br/>（リクエスト成功時は「200」）                                                      |
| 10  | メッセージ       | message         | string | 必須       | ステータスコードに記載のメッセージが記載されます<br/>（リクエスト成功時は「OK」）                                                       |

### 取得情報による違い

#### type=1（メタデータのみ）

上記のメタデータ情報のみを含むレスポンスが返されます。

#### type=2（提出書類一覧及びメタデータ）

上記のメタデータに加えて、提出書類一覧の詳細データも含む完全なレスポンスが返されます。

### レスポンス例（JSON形式）

```json
{
  "metadata": {
    "title": "EDINET API",
    "parameter": {
      "date": "2023-04-01",
      "type": "1"
    },
    "resultset": {
      "count": 150,
      "processDateTime": "2023-04-01 09:30"
    },
    "status": "200",
    "message": "OK"
  }
}
```

## 利用上の注意

1. APIキー（Subscription-Key）は必須パラメータです
2. 日付形式はYYYY-MM-DD形式で指定してください
3. 指定可能な日付は過去10年以内の財務局営業日です
4. typeパラメータを省略した場合は、メタデータのみ（type=1）が取得されます
5. 提出日とファイル日付が異なる場合があるため、注意して利用してください

## APIの用途

このAPIは以下の用途で利用できます：

- 特定日付の提出書類一覧の取得
- 書類提出状況の監視
- メタデータによる書類情報の確認
- 提出書類の検索・絞り込み処理の基礎データ取得
